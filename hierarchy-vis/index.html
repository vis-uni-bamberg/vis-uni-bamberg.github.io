<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, minimum-scale=1.0"
    />
    <title>Effective Visualization of Hierarchies</title>
    <meta property="og:title" content="Effective Visualization of Hierarchies" />
    <meta charset="utf-8" />
    <meta property="og:type" content="article" />

    <meta property="og:description" content="An introduction and discussion of indented charts and iclicle plots for effectively visualizing hierarchical data." />
    <meta property="description" content="An introduction and discussion of indented charts and iclicle plots for effectively visualizing hierarchical data." />

    <link rel="stylesheet" href="static/idyll_styles.css" />
  </head>
  <body>
    <div id="idyll-mount"><div data-reactroot=""><div class="idyll-root"><div class=" idyll-text-container"><div style="position:fixed" class="fixed"><a href="#top">^</a></div></div><div class="article-header" style="background:#222222;color:#ffffff"><h1 class="hed">Effective Visualization of Hierarchies</h1><h2 class="dek">Using Indented Charts and Icicle Plots</h2><div class="byline">By: <a target="_blank" href="https://github.com/fabian-beck" style="color:#ffffff">Fabian Beck</a></div><div class="idyll-pub-date">June 2022 (v1.0-beta)</div></div><div class=" idyll-text-container"><div class="toc"><span class="aside-container"><span class="aside"><h3 id="contents">Contents</h3><ul><li><a href="#indented-charts">Indented Charts</a></li><li><a href="#icicle-plots">Icicle Plots</a></li><li><a href="#conclusion">Conclusion</a></li><li><a href="#about">Appendix: About, References</a></li></ul></span></span></div><span class="aside-container"><span class="aside">
  An interactive article discussing two sometimes forgotten, but quite effective hierarchy visualization techniques.</span></span><p>When it comes to visualizing hierarchically organized data, you often see <div style="display:inline"> <div class="annotated-text"><em>node-link diagrams</em> <div class="annotation-text"><div class="idyll-graphic">Nodes drawn as circles in layers and being connected by links</div></div></div> </div> and <div style="display:inline"> <div class="annotated-text"><em>treemaps</em> <div class="annotation-text"><div class="idyll-graphic">Rectangles nested according to the hierarchical structure</div></div></div> </div> promoted as the main types of diagrams. They are definitely interesting options, but two other techniques—sometimes forgotten—might be <strong>the true workhorses of hierarchy visualization</strong>: </p><p class="centered"> <strong>Indented Charts</strong> <div style="display:inline-block"><img src="static/images/indented-icon.svg" class="icon"/></div> <span class="v-space"></span> and <span class="v-space"></span> <strong>Icicle Plots</strong> <div style="display:inline-block"><img src="static/images/icicle-icon.svg" class="icon"/></div></p><p>This interactive article presents these two types of visualization and discusses their characteristics. Trying to answer what makes such a visualization effective in practical application, we will reflect on options for label placement, interactivity, and scaling the approaches to larger datasets. </p><h1 id="indented-charts">Indented Charts</h1><span class="aside-container"><span class="aside">
  So simple!</span></span><img src="static/images/indented-icon.svg" class="icon-large"/><p>Known from file browsers and other tools, indented charts are so simple that they might not even be considered a visualization, but just a user interface component.</p><p><strong>Elements of the hierarchy are vertically listed</strong> below each other, with <strong>increasing horizontal indentation per level</strong>. Child elements directly follow their parents.</p><p>Let us visualize a simple hierarchy that shows a directory of files as an indented chart. </p></div><div class="idyll-scroll" id="idyll-scroll-0" style="position:relative"><div class="idyll-scroll-graphic" style="top:0;left:0;right:0;bottom:auto;width:100%;transform:translate3d(0, 0, 0);z-index:-1;height:0"><div style="width:0;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)"><div class="idyll-graphic" style="width:600px;margin:auto"><div style="width:100%"></div></div></div></div><div class=" idyll-text-container"><div class="idyll-scroll-text"><div class="idyll-step "><h3 id="base-layout">Base Layout</h3><p>Just the labels of the files and indentation is sufficient to see the hierarchical structure.
  </p></div><div class="idyll-step "><h3 id="hierarchy-levels">Hierarchy Levels</h3><p>Additional lines can mark the levels of the hierarchy and help us trace which child nodes belong to a parent.
  </p></div><div class="idyll-step "><h3 id="visual-nodes">Visual Nodes</h3><p>We can draw circles to mark each node more clearly.
  </p></div><div class="idyll-step "><h3 id="node-types">Node Types</h3><p>These can be used, for instance, to encode the type of the node as color.
  </p></div><div class="idyll-step "><h3 id="node-sizes">Node Sizes</h3><p>And, very useful for files, the area of the circles may encode the sizes of the respective files and directories.
  </p></div></div></div></div><div class=" idyll-text-container"><span class="aside-container"><span class="aside">
  One visualization, many names</span></span><p>If you try to find more information on this representation, unfortunately, you will quickly learn that it does not have one name consistently used in all sources, but different ones. I decided here to go for <em>indented chart</em> as it appears to be one of the most frequently used ones and is quite descriptive—other common names are <em>indented plot</em>, <em>indented layout</em>, <em>indented tree</em>, and <em>tree view</em>.</p><h2 id="practical-use">Practical Use</h2><span class="aside-container"><span class="aside">
  Expand and collapse</span></span><p>The visualization is often used as an interactive component, allowing users to <strong>expand and collapse inner nodes</strong> of the hierarchy. Being collapsed at the beginning, for instance, in file browsers, even huge hierarchies can be interactively explored. Only rarely, additional numeric attributes are shown in such interfaces, but they exist across various domains. For instance, <a href="https://www.jam-software.de/treesize_free">TreeSize</a> is a tool that, similar to our example above, visualizes file sizes within the indented hierarchy. </p><p>Furthermore, <a href="https://en.wikipedia.org/wiki/Indentation_style">indentation of program code</a> can be considered a variant of this. Many code editors visually indicate the levels by vertical lines and allow for collapsing parts of the hierarchical program structure.</p><h2 id="comparison-to-node-link-diagrams">Comparison to Node-Link Diagrams</h2><span class="aside-container"><span class="aside">
  Yet another node-link layout?</span></span><p>Generally, an indented chart can be considered <strong>a variant of a node-link diagram</strong>, in a simple layout where all nodes are placed below each other. The layout algorithm is trivial to implement. In contrast to other node-link layouts, it consumes more vertical but little horizontal space. This might be perceived as a disadvantage, but also allows to just add vertical scrolling when the diagram outgrows the available screen space.</p><p>You may have noticed that the list-like layout makes it <strong>straightforward to print labels</strong> for each node, and there is sufficient space for longer labels. In contrast, most other node-link layouts, though being slightly more compact, run into certain problems for placing labels. Especially difficult to label are those that use a radial layout, also because rotated texts get more difficult to read.</p><p>There are not many user studies comparing the two representations. However, the few studies that investigate variants of the two suggest a similar performance <a title="Indented Pixel Tree Plots, Burch, Michael and Raschke, Michael and Weiskopf, Daniel" href="https://doi.org/10.1007/978-3-642-17289-2_33">[<!-- -->1<!-- -->]</a><a title="Indented tree or graph? A usability study of ontology visualization techniques in the context of class mapping evaluation, Fu, Bo and Noy, Natalya F and Storey, Margaret-Anne" href="https://doi.org/10.1007/978-3-642-41335-3_8">[<!-- -->2<!-- -->]</a>. So, if readability can be assumed as comparable, it will be more about practical issues like label placement when selecting between the two approaches.</p><p class="centered row"> <div class="column25"><img src="static/images/indented-icon.svg" class="icon-large"/></div><div class="column75"><h2 id="insight">Insight</h2><p><strong>Indented charts</strong> are simple to implement, known by every user, allow for interactive exploration of large hierarchies, and do not cause issues when printing labels. 
  </p></div></p><h1 id="icicle-plots">Icicle Plots</h1><span class="aside-container"><span class="aside">
  Size matters!</span></span><img src="static/images/icicle-icon.svg" class="icon-large"/><p>In contrast to indented charts, an icicle plot focuses more on providing a good overview of the sizes of the hierarchy nodes. In this regard, it is similar to a treemap where the size of the nodes is encoded in the rectangular area they fill. But instead of nesting the nodes, the icicle plots work in layers. They <strong>start with a full-width rectangle and attach the child nodes below their parent as rectangles</strong>, scaled according to their sizes. </p><p>We can use the small file structure again as an example and see how it looks as an icicle plot. Yet, let us first assume that all files in our example have the same size.</p></div><div class="idyll-scroll" id="idyll-scroll-1" style="position:relative"><div class="idyll-scroll-graphic" style="top:0;left:0;right:0;bottom:auto;width:100%;transform:translate3d(0, 0, 0);z-index:-1;height:0"><div style="width:0;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)"><div class="idyll-graphic" style="max-width:600px;margin:auto;padding:10px"><div style="width:100%"></div></div></div></div><div class=" idyll-text-container"><div class="idyll-scroll-text"><div class="idyll-step "><h3 id="base-layout">Base Layout</h3><p>In the resulting base layout, the root node is placed at the top layer at full width. The layer below is subdivided into the respective directories and files in a way that the directories consume a width proportional to the number of contained files, and so on.
  </p></div><div class="idyll-step "><h3 id="node-types">Node Types</h3><p>We have encoded already the levels of the hierarchy with slightly decreasing opacity, but again, we can also use colors to discern the different types of files.
  </p></div><div class="idyll-step "><h3 id="node-sizes">Node Sizes</h3><p>And finally, the nodes can be scaled according to the respective file sizes. As a consequence, the widths of directory nodes also adapt and match the summed sizes of the contained files.
  </p></div></div></div></div><div class=" idyll-text-container"><span class="aside-container"><span class="aside">
  Icicles and flames</span></span><p>From a distance, these vertically appended rectangles <strong>somewhat resemble hanging icicles</strong>; the term goes back to a paper from the early 1980s <a title="Icicle Plots: Better displays for hierarchical clustering, Kruskal, J. B. and Landwehr, J. M." href="https://doi.org/10.2307/2685881">[<!-- -->3<!-- -->]</a>. If arrange from bottom to top instead (and colored in red-orange colors), they more look like flames and are sometimes called <em>flame graphs</em> <a title="The Flame Graph, Gregg, Brendan" href="http://dx.doi.org/10.1145/2909476">[<!-- -->4<!-- -->]</a>. But, of course, we could also choose a layout from left to right or right to left—these do not have specific names.</p><h2 id="practical-use">Practical Use</h2><span class="aside-container"><span class="aside">
  Label or no label?</span></span><p>You might have noticed that <strong>placing labels is sometimes tricky in an icicle plot</strong>. For bigger nodes, there is usually enough space to print the full label. But for smaller ones, they need to be cut or cannot be printed at all. However, depending on the application, this might not be an issue if size corresponds to importance. For instance, investigating which files consume most space on our hard disk, we would not be interested in the small files and their names anyway.</p><p>Still, finding the best possible labeling result is desirable. Rotating individual labels by 90 degree might, in some cases, allows printing longer labels at the costs of a poorer readability of the vertical labels. Alternatively, rotating the whole plot with nodes arranged from left to right is an option to ease labeling. However, which layout works best can only be decided depending on the available screen space, the lengths of the labels, and the size and structure of the hierarchy.</p><span class="aside-container"><span class="aside">
  Size + size = size</span></span><p>For file sizes, the division of rectangles in the plot works nicely and is intuitive to understand, as <strong>the sum of the sizes of the child nodes is the size of the parent</strong>. If this property does not hold, however, the icicle encoding might not be recommendable, for instance, if the parent node can have a size that is independent of its child nodes. Or, if the sizes are on a log scale, the sum of the sizes of the children would no longer be the size of the parent. Hence, we have to be careful to not blindly use any numeric attribute as the values encoded in an icicle plot.</p><span class="aside-container"><span class="aside">
  Zooming in</span></span><p>While simple expand and collapse operations can make an indented plot scale to large hierarchies, this strategy is of limited use for an icicle plot. Collapsing a node would not reduce the size of its parent, and hence, would not free any screen space. Instead, we can use a <strong>zooming approach</strong>. Unlike a traditional pan-and-zoom in two dimensions—like used for maps and images—, the zoom can be <strong>restricted to one dimension only</strong> because, in most cases, only the breadth and not the depth of the hierarchy limits the readability of an icicle plot. </p><p>Below is an example of a larger hierarchy (the file example above copied 50 times with varying file sizes) with vertical zooming and scrolling, implemented through two sliders.</p><div class="row"><div class="column50"><p><em>Zoom</em></p><input type="range" value="100" min="100" max="10000" step="1"/></div><div class="column50"><p><em>Scroll</em></p><input type="range" value="0" min="0" max="1000" step="1"/></div></div><div style="width:100%"></div><p>The example shows that, in the zoomed-out version, the structure of the hierarchy is still readable. You can see which are the bigger branches and nodes of the hierarchy and how the differently colored file types spread in the hierarchy levels. Zooming in reveals the individual directory and file names, as well as allows exploring the smaller nodes. </p><p>Please note the extra shading of the background of the nodes—a white gradient on the left side of each rectangle, creating a kind of <em>cushion effect</em> <a title="Structural analysis and visualization of C++ code evolution using syntax trees, Chevalier, Fanny and Auber, David and Telea, Alexandru" href="https://doi.org/10.1111/j.1467-8659.2011.01898.x">[<!-- -->5<!-- -->]</a>. This helps discern the rectangles vertically on higher zoom levels. Borderlines around the rectangles, in contrast, would have cluttered the diagram. </p><span class="aside-container"><span class="aside">
  Timelines of nested calls</span></span><p>If you want to see the approach in action, I recommend using <strong>performance profiling tools</strong> (e.g., open as available in the developer tools of your fovorite web browser). Most of these tools <strong>use timelines of nested calls as icicle plots</strong>. Here, the nodes represent the call of a method, hierarchically stacked according to a call tree. The sizes of the nodes correspond to their execution times. So, when arranging the nodes on the timeline in the correct hierarchy level, a temporal icicle plot is created.</p><h2 id="sunburst-charts">Sunburst Charts</h2><span class="aside-container"><span class="aside">
  Admittedly, the radial sunburst variant looks nice ...</span></span><p>The <strong>radial variant of an icicle plot</strong>, often called <em>sunburst chart</em>, might be even somewhat more commonly presented and used. It has slightly different properties. Here, the root is a circle in the center and all child nodes are ring segments at the respective radial layer. </p><p>The below diagram shows the above file system example drawn as a sunburst chart with radially placed labels.</p><div class="idyll-graphic"><div style="width:100%"></div></div><span class="aside-container"><span class="aside">
  ... but is it better?</span></span><p>The nodes are subdivided not by width but by angle. This results in nodes being disproportionately smaller towards the center. However, interpreting each ring at a layer as 100% of a quantity, the relative sizes are interpretable, somewhat like in a <a href="https://en.wikipedia.org/wiki/Pie_chart">pie chart</a> where the full pie usually also represents 100%. Hence, node sizes are comparable within a layer, but not across layers—and angles might be harder to compare. </p><p>Labeling, like usual in radial visualizations, becomes more challenging and one-dimensional zooming cannot be implemented as described above; however, more space is available for the outer nodes at deeper levels of the hierarchy. </p><p>Overall, I would still recommend the standard icicle plot as a default, but also aside the aesthetics, in some cases, a sunburst chart might be preferable to show that node sizes are a fraction of a whole.</p><h2 id="comparison-to-treemaps">Comparison to Treemaps</h2><span class="aside-container"><span class="aside">
  Whitespace to reveal structure</span></span><p><strong>Treemaps and icicle plots both focus on showing size attributes of the nodes</strong>. Also, treemaps rely on the assumption that sizes add up linearly for inner nodes as discussed above for icicle plots. Both representations are sometimes characterized as <em>space-filling</em> <a title="Visual analysis of large graphs: State-of-the-art and future research challenges, Von Landesberger, Tatiana and Kuijper, Arjan and Schreck, Tobias and Kohlhammer, Jörn and van Wijk, Jarke J and Fekete, Jean-Daniel and Fellner, Dieter W" href="https://doi.org/10.1111/j.1467-8659.2011.01898.x">[<!-- -->6<!-- -->]</a>—they can fill any rectangular space. However, I find this characterization misleading for icicle plots. While this is perfectly true for treemaps, an icicle plot would usually still have some whitespace. Also, it is not desirable to use a rectangle of any aspect ratio for an icicle plot, but rather to select a specific viewport that matches the data at hand and the orientation of the plot. In this regard, a treemap is more flexible. </p><p>However, in my eyes, treemaps are often overrated. They come with clear disadvantages: First, they partly obfuscate the hierarchical structure—within the recursively nested boxes, it is challenging to perceive the inner nodes, which are the structure-forming elements of the hierarchy. One can try to counterbalance, for instance, by using cushion shading to better highlight the structure <a title="Cushion Treemaps: Visualization of hierarchical information, Van Wijk, Jarke J and Van de Wetering, Huub" href="https://doi.org/10.1109/INFVIS.1999.801860">[<!-- -->7<!-- -->]</a>, but the general problem remains. Second, interactive exploration is much harder to implement and not as easy to use in treemaps. Like in icicle plots, simple collapsing and expanding of nodes would conflict with the correct sizing of the rectangles. Using two-dimensional pan-and-zoom is possible, but would ignore the hierarchical structure and obfuscate it even more. Empirical studies also provide some evidence of lower performance and user preference of treemaps compared to icicle plots <a title="A comparison of 2-D visualizations of hierarchies, Barlow, Todd and Neville, Padraic" href="https://doi.ieeecomputersociety.org/10.1109/INFVIS.2001.963290">[<!-- -->8<!-- -->]</a><a title="Interactive visualisation of hierarchical quantitative data: An evaluation, Woodburn, Linda and Yang, Yalong and Marriott, Kim" href="https://doi.org/10.1109/VISUAL.2019.8933545">[<!-- -->9<!-- -->]</a>. </p><p>Many variants exist of the two approaches that, in contrast to the <em>explicit</em> links in node-link diagrams, visualize the hierarchical structure <em>implicitly</em> <a title="The design space of implicit hierarchy visualization: A survey, Schulz, Hans-Jorg and Hadlak, Steffen and Schumann, Heidrun" href="https://doi.org/10.1109/TVCG.2010.79">[<!-- -->10<!-- -->]</a>.</p><p class="centered row"> <div class="column25"><img src="static/images/icicle-icon.svg" class="icon-large"/></div><div class="column75"><h2 id="insight">Insight</h2><p><strong>Icicle plots</strong> are great to clearly visualize a linear size attribute of the nodes. Maybe not known to every user already, they are not difficult to understand either. Combined with one-dimensional zooming, they scale well to visualizing large hierarchies.
  </p></div></p><h1 id="conclusion">Conclusion</h1><p><strong>Indented charts and icicle plots</strong> are two hierarchy visualization approaches that <strong>can be considered as simpler but not less effective versions of node-link diagrams and treemaps</strong>. While the first mainly shows the hierarchical structure, the second focuses on visualizing aggregated size attributes of the nodes. Especially when it comes to placing labels and scaling the visualizations to larger hierarchies, I see clear advantages over node-link diagrams and treemaps, as well as over the radial sunburst charts. Indented charts and icicle plots are both easy to implement and available in many visualization libraries. </p><h2 id="recommended-materials">Recommended Materials</h2><p>For following up on more specific hierarchy visualization approaches or with implementing an own solution, I recommend the following sources, besides the references below.</p><ul><li><a href="https://treevis.net">Treevis.net: A Visual Bibliography of Tree Visualization</a></li><li><a href="https://github.com/d3/d3-hierarchy">d3-hierarchy: 2D layout algorithms for visualizing hierarchical data (D3js)</a></li></ul><h1 id="about">About</h1><ul><li>This article was created using <a href="https://idyll-lang.org">Idyll</a> and <a href="https://d3js.org/">D3.js</a>.</li><li>The source code is available on <a href="https://github.com/vis-uni-bamberg/hierarchy-vis">GitHub</a> under MIT license.</li></ul><div id="references"><h1>References</h1><ol><li><a href="https://doi.org/10.1007/978-3-642-17289-2_33" target="_blank">Indented Pixel Tree Plots</a>, <!-- -->Burch, Michael and Raschke, Michael and Weiskopf, Daniel<!-- -->.<em> International Symposium on Visual Computing.</em> 2010.</li><li><a href="https://doi.org/10.1007/978-3-642-41335-3_8" target="_blank">Indented tree or graph? A usability study of ontology visualization techniques in the context of class mapping evaluation</a>, <!-- -->Fu, Bo and Noy, Natalya F and Storey, Margaret-Anne<!-- -->.<em> International Semantic Web Conference.</em> 2013.</li><li><a href="https://doi.org/10.2307/2685881" target="_blank">Icicle Plots: Better displays for hierarchical clustering</a>, <!-- -->Kruskal, J. B. and Landwehr, J. M.<!-- -->.<em> The American Statistician.</em> 1983.</li><li><a href="http://dx.doi.org/10.1145/2909476" target="_blank">The Flame Graph</a>, <!-- -->Gregg, Brendan<!-- -->.<em> Communications of the ACM.</em> 2016.</li><li><a href="https://doi.org/10.1111/j.1467-8659.2011.01898.x" target="_blank">Structural analysis and visualization of C++ code evolution using syntax trees</a>, <!-- -->Chevalier, Fanny and Auber, David and Telea, Alexandru<!-- -->.<em> Ninth International Workshop on Principles of Software Evolution.</em> 2007.</li><li><a href="https://doi.org/10.1111/j.1467-8659.2011.01898.x" target="_blank">Visual analysis of large graphs: State-of-the-art and future research challenges</a>, <!-- -->Von Landesberger, Tatiana and Kuijper, Arjan and Schreck, Tobias and Kohlhammer, Jörn and van Wijk, Jarke J and Fekete, Jean-Daniel and Fellner, Dieter W<!-- -->.<em> Computer Graphics Forum.</em> 2011.</li><li><a href="https://doi.org/10.1109/INFVIS.1999.801860" target="_blank">Cushion Treemaps: Visualization of hierarchical information</a>, <!-- -->Van Wijk, Jarke J and Van de Wetering, Huub<!-- -->.<em> Proceedings 1999 IEEE Symposium on Information Visualization.</em> 1999.</li><li><a href="https://doi.ieeecomputersociety.org/10.1109/INFVIS.2001.963290" target="_blank">A comparison of 2-D visualizations of hierarchies</a>, <!-- -->Barlow, Todd and Neville, Padraic<!-- -->.<em> IEEE Symposium on Information Visualization.</em> 2001.</li><li><a href="https://doi.org/10.1109/VISUAL.2019.8933545" target="_blank">Interactive visualisation of hierarchical quantitative data: An evaluation</a>, <!-- -->Woodburn, Linda and Yang, Yalong and Marriott, Kim<!-- -->.<em> 2019 IEEE Visualization Conference.</em> 2019.</li><li><a href="https://doi.org/10.1109/TVCG.2010.79" target="_blank">The design space of implicit hierarchy visualization: A survey</a>, <!-- -->Schulz, Hans-Jorg and Hadlak, Steffen and Schumann, Heidrun<!-- -->.<em> IEEE Transactions on Visualization and Computer Graphics.</em> 2010.</li></ol></div></div></div></div></div>
    <script src="static/idyll_index.js"></script>
  </body>
</html>
